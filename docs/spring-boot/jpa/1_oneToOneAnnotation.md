# Связ один-к-одному

Аннотация `@OneToOne` используется для задания односторонней или двунаправленной связи «один к одному» между сущностями. Давайте разберём каждое поле этой аннотации:

**mappedBy**\
Тип: `String` (по умолчанию пустая строка)\
**Назначение**: используется в двунаправленных связях для указания, что данная сторона не владеет связью, а лишь отражает её. Значение должно соответствовать имени поля в целевой сущности, которое является владельцем (то есть содержит аннотацию `@JoinColumn`). Если аннотация указана, то считается, что настройка отношения описана на другой стороне, и эта сторона синхронизируется с ней.

**cascade**\
Тип: `CascadeType[]` (массив типов каскада, по умолчанию пустой массив)\
**Назначение**: определяет, какие операции (например, сохранение, обновление, удаление) должны каскадно применяться к связанному объекту. Например, если указать `CascadeType.PERSIST` и `CascadeType.MERGE`, то при сохранении или обновлении родительской сущности аналогичные операции будут выполнены и для связанной сущности.

**fetch**\
Тип: FetchType (по умолчанию `FetchType.EAGER`)\
**Назначение**: определяет стратегию загрузки связанной сущности.
`EAGER`: связанная сущность загружается сразу вместе с родительской;
`LAZY`: загрузка откладывается до момента обращения к полю.
Выбор стратегии влияет на производительность и поведение приложения.

**targetEntity** (обычно не используется)\
Тип: `Class` (по умолчанию — `void.class`)\
**Назначение**: Указывает целевой класс (сущность), с которым устанавливается связь. Обычно `JPA` может вывести тип целевой сущности из типа поля или свойства, поэтому явное указание не требуется. Однако в случаях, когда тип невозможно определить (например, при использовании обобщений), можно явно задать целевой класс.

**optional** (обычно не используется)\
Тип: `boolean` (по умолчанию `true`)\
**Назначение**: указывает, является ли связь обязательной. Если `optional = false`, то связь должна существовать, и внешний ключ в базе данных будет отмечен как `NOT NULL`. `При optional = true` связь может отсутствовать (поле может быть `null`).
(используется только для генерации DDL из сущности)

**orphanRemoval** (обычно не используется)\
Тип: `boolean` (по умолчанию `false`)\
**Назначение**: если установлено в `true`, то при удалении объекта из связи (например, если соответствующее поле становится `null` или объект удаляется из коллекции) `JPA` автоматически удалит «осиротевшую» сущность из базы данных. Это помогает избежать накопления неиспользуемых записей.